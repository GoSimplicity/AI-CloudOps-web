{
  "openapi": "3.0.0",
  "info": {
    "title": "RCA API",
    "description": "根因分析相关API",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/rca/records/list": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "List Rca Records",
        "operationId": "list_rca_records_api_v1_rca_records_list_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "default": 20,
              "title": "Size"
            }
          },
          {
            "name": "namespace",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Namespace"
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Search"
            }
          },
          {
            "name": "record_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Record Type"
            }
          },
          {
            "name": "job_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/records/detail/{record_id}": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "Get Rca Record Db",
        "operationId": "get_rca_record_db_api_v1_rca_records_detail__record_id__get",
        "parameters": [
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/records/delete/{record_id}": {
      "delete": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "Delete Rca Record Db",
        "operationId": "delete_rca_record_db_api_v1_rca_records_delete__record_id__delete",
        "parameters": [
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/analyses/create": {
      "post": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "提交根因分析异步任务",
        "description": "提交根因分析异步任务，立即返回任务ID。",
        "operationId": "create_root_cause_analysis_api_v1_rca_analyses_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutoRCAAnalyzeReq"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/metrics/list": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "获取指标列表",
        "description": "返回平台默认指标与 Prometheus 可用指标列表。",
        "operationId": "list_available_metrics_api_v1_rca_metrics_list_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/topology/detail": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "获取Kubernetes拓扑快照",
        "description": "获取指定命名空间的拓扑结构，以及可选的影响范围计算结果。",
        "operationId": "list_topology_api_v1_rca_topology_detail_get",
        "parameters": [
          {
            "name": "namespace",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "目标命名空间（可选）",
              "title": "Namespace"
            },
            "description": "目标命名空间（可选）"
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "源节点名称，用于影响范围计算（可选）",
              "title": "Source"
            },
            "description": "源节点名称，用于影响范围计算（可选）"
          },
          {
            "name": "max_hops",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "最大跳数（默认1）",
              "default": 1,
              "title": "Max Hops"
            },
            "description": "最大跳数（默认1）"
          },
          {
            "name": "direction",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "边方向（out/in），默认out",
              "default": "out",
              "title": "Direction"
            },
            "description": "边方向（out/in），默认out"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/anomalies/create": {
      "post": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "创建异常检测",
        "description": "根据给定时间范围与指标执行异常检测并返回结果。",
        "operationId": "create_anomaly_detection_api_v1_rca_anomalies_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutoRCAAnomalyReq"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/correlations/create": {
      "post": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "创建相关性分析（异步）",
        "description": "提交普通相关性分析任务，立即返回job_id。结果写入 cl_aiops_rca_correlations。",
        "operationId": "create_correlation_analysis_api_v1_rca_correlations_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutoRCACorrelationReq"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/correlations/list": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "列出普通相关性分析异步任务（数据库）",
        "description": "从数据库返回普通相关性分析任务列表（分页，可按状态/命名空间过滤）",
        "operationId": "list_correlation_jobs_api_v1_rca_correlations_list_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "页码（从1开始)",
              "default": 1,
              "title": "Page"
            },
            "description": "页码（从1开始)"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "每页大小",
              "default": 20,
              "title": "Size"
            },
            "description": "每页大小"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "任务状态过滤",
              "title": "Status"
            },
            "description": "任务状态过滤"
          },
          {
            "name": "namespace",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "命名空间过滤",
              "title": "Namespace"
            },
            "description": "命名空间过滤"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/correlations/detail/{job_id}": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "获取普通相关性分析任务详情（数据库）",
        "description": "通过job_id从数据库查询任务状态与结果（如成功，返回 cl_aiops_rca_correlations 的结果）",
        "operationId": "get_correlation_detail_api_v1_rca_correlations_detail__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/cross-correlations/create": {
      "post": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "创建跨时滞相关分析",
        "description": "对多指标进行跨时滞相关性分析（Cross-Correlation）。",
        "operationId": "create_cross_correlation_api_v1_rca_cross_correlations_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutoRCACrossCorrelationReq"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/timelines/create": {
      "post": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "创建事件时间线（异步）",
        "description": "提交时间线生成任务，立即返回job_id，结果可通过列表/详情接口查询。",
        "operationId": "create_timeline_api_v1_rca_timelines_create_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AutoRCATimelineReq"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/analyses/list": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "列出RCA异步任务（数据库）",
        "description": "从数据库返回RCA异步任务列表（分页，可按状态/命名空间过滤）",
        "operationId": "list_rca_analyses_api_v1_rca_analyses_list_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "页码（从1开始）",
              "default": 1,
              "title": "Page"
            },
            "description": "页码（从1开始）"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "每页大小",
              "default": 20,
              "title": "Size"
            },
            "description": "每页大小"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "任务状态过滤",
              "title": "Status"
            },
            "description": "任务状态过滤"
          },
          {
            "name": "namespace",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "命名空间过滤",
              "title": "Namespace"
            },
            "description": "命名空间过滤"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/analyses/detail/{job_id}": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "获取RCA异步任务详情",
        "description": "通过job_id从数据库查询任务状态与结果",
        "operationId": "get_rca_analysis_detail_api_v1_rca_analyses_detail__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/analyses/delete/{record_id}": {
      "delete": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "软删除RCA记录",
        "operationId": "delete_rca_record_api_v1_rca_analyses_delete__record_id__delete",
        "parameters": [
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/health/detail": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "RCA服务健康检查",
        "description": "检测RCA服务可用性与基础运行状态。",
        "operationId": "rca_health_api_v1_rca_health_detail_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/cross-correlations/list": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "列出跨时滞相关任务（数据库）",
        "description": "从数据库返回跨时滞相关任务列表（分页，可按状态/命名空间过滤）",
        "operationId": "list_cross_correlation_jobs_api_v1_rca_cross_correlations_list_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "页码（从1开始）",
              "default": 1,
              "title": "Page"
            },
            "description": "页码（从1开始）"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "每页大小",
              "default": 20,
              "title": "Size"
            },
            "description": "每页大小"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "任务状态过滤",
              "title": "Status"
            },
            "description": "任务状态过滤"
          },
          {
            "name": "namespace",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "命名空间过滤",
              "title": "Namespace"
            },
            "description": "命名空间过滤"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/cross-correlations/detail/{job_id}": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "获取跨时滞相关任务详情（数据库）",
        "description": "通过job_id获取任务状态与结果（如成功，返回 cl_aiops_rca_cross_correlations 的结果）",
        "operationId": "get_cross_correlation_detail_api_v1_rca_cross_correlations_detail__job_id__get",
        "parameters": [
          {
            "name": "job_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Job Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/cross-correlations/delete/{record_id}": {
      "delete": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "软删除跨时滞相关结果记录",
        "operationId": "delete_cross_correlation_record_api_v1_rca_cross_correlations_delete__record_id__delete",
        "parameters": [
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/correlations/delete/{record_id}": {
      "delete": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "软删除普通相关性结果记录",
        "operationId": "delete_simple_correlation_record_api_v1_rca_correlations_delete__record_id__delete",
        "parameters": [
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/timelines/list": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "列出时间线记录",
        "operationId": "list_timelines_api_v1_rca_timelines_list_get",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "页码（从1开始）",
              "default": 1,
              "title": "Page"
            },
            "description": "页码（从1开始）"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "每页大小",
              "default": 20,
              "title": "Size"
            },
            "description": "每页大小"
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "状态过滤",
              "title": "Status"
            },
            "description": "状态过滤"
          },
          {
            "name": "namespace",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "命名空间过滤",
              "title": "Namespace"
            },
            "description": "命名空间过滤"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaginatedListAPIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/timelines/detail/{record_id}": {
      "get": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "获取时间线记录详情（支持ID或job_id）",
        "operationId": "get_timeline_detail_api_v1_rca_timelines_detail__record_id__get",
        "parameters": [
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/rca/timelines/delete/{record_id}": {
      "delete": {
        "tags": [
          "api_v1",
          "rca"
        ],
        "summary": "软删除时间线记录",
        "operationId": "delete_timeline_record_api_v1_rca_timelines_delete__record_id__delete",
        "parameters": [
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/APIResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "APIResponse": {
        "properties": {
          "code": {
            "type": "integer",
            "title": "Code",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": ""
          },
          "data": {
            "anyOf": [
              {},
              {
                "type": "null"
              }
            ],
            "title": "Data"
          }
        },
        "type": "object",
        "title": "APIResponse",
        "description": "统一API响应格式 - 普通请求使用data字段"
      },
      "PaginatedListAPIResponse": {
        "properties": {
          "code": {
            "type": "integer",
            "title": "Code",
            "default": 0
          },
          "message": {
            "type": "string",
            "title": "Message",
            "default": ""
          },
          "items": {
            "anyOf": [
              {
                "items": {},
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Items"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "default": 0
          }
        },
        "type": "object",
        "title": "PaginatedListAPIResponse",
        "description": "分页列表API响应格式 - 包含分页信息"
      },
      "AutoRCAAnalyzeReq": {
        "properties": {
          "start_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time",
            "description": "起始时间（ISO8601）。若为空，将按时间范围推导"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time",
            "description": "结束时间（ISO8601）。若为空，将按时间范围推导"
          },
          "metrics": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics",
            "description": "指标列表（为空则使用平台默认指标）"
          },
          "time_range_minutes": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 4320,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Time Range Minutes",
            "description": "时间范围（分钟）"
          },
          "include_logs": {
            "type": "boolean",
            "title": "Include Logs",
            "description": "是否包含容器日志证据",
            "default": false
          },
          "namespace": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Namespace",
            "description": "目标命名空间，缺省为配置默认"
          }
        },
        "type": "object",
        "title": "AutoRCAAnalyzeReq"
      },
      "AutoRCAAnomalyReq": {
        "properties": {
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "title": "End Time"
          },
          "metrics": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics"
          },
          "sensitivity": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sensitivity",
            "default": 0.8
          }
        },
        "type": "object",
        "required": [
          "start_time",
          "end_time"
        ],
        "title": "AutoRCAAnomalyReq"
      },
      "AutoRCACorrelationReq": {
        "properties": {
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "title": "End Time"
          },
          "target_metric": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Target Metric"
          },
          "metrics": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics"
          },
          "namespace": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Namespace"
          }
        },
        "type": "object",
        "required": [
          "start_time",
          "end_time"
        ],
        "title": "AutoRCACorrelationReq"
      },
      "AutoRCACrossCorrelationReq": {
        "properties": {
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "title": "End Time"
          },
          "metrics": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metrics"
          },
          "max_lags": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Max Lags",
            "default": 10
          },
          "namespace": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Namespace"
          }
        },
        "type": "object",
        "required": [
          "start_time",
          "end_time"
        ],
        "title": "AutoRCACrossCorrelationReq"
      },
      "AutoRCATimelineReq": {
        "properties": {
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "title": "End Time"
          },
          "events": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Events"
          }
        },
        "type": "object",
        "required": [
          "start_time",
          "end_time"
        ],
        "title": "AutoRCATimelineReq"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}
